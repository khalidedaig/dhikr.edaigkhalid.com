import{r as v,o as L,a as c,b as u,d as m,u as p,g as B,w as h,e as n,S as q,f as E,F as _,h as O,t as i,j as w,y as F}from"./app-BAKlbPj6.js";import{_ as J}from"./Layout-DiWH2tP_.js";import{_ as K,l as d}from"./LearningInsights-9Ri05Stv.js";/* empty css            */const M={class:"max-w-6xl mx-auto"},W={class:"mb-8 text-center"},j={class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},z=["data-dhikr-id"],P={class:"px-2 py-6"},Q={class:"text-center mb-6"},Y={class:"arabic-text text-3xl font-bold text-green-600 dark:text-green-400 mb-2"},H={class:"text-lg text-gray-700 dark:text-gray-300 mb-1"},U={class:"text-sm text-gray-500 dark:text-gray-400"},X={class:"max-w-md mx-auto"},Z={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},I={class:"text-center mb-4"},ee={class:"text-4xl font-bold text-blue-600 dark:text-blue-400 mb-2"},te={key:0,class:"mb-3"},oe={class:"text-sm text-gray-600 dark:text-gray-300 mb-1"},ne={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2"},ae={class:"text-center mb-4"},re=["value","onInput"],se={class:"flex space-x-2"},le=["onClick","disabled"],ie=["onClick"],ce={key:0,class:"mt-3 p-2 bg-green-100 dark:bg-green-900 border border-green-300 dark:border-green-700 rounded text-center"},fe={__name:"DhikrList",props:{dhikrList:{type:Array,required:!0}},setup(f){const k=f,a=v({}),b=v(null),g=v({});L(()=>{D()});function D(){k.dhikrList.forEach(e=>{const o=`dhikr-${e.id}`,t=localStorage.getItem(o);if(t)try{const r=JSON.parse(t);a.value[e.id]={count:r.count||0,goal:r.goal||e.defaultGoal}}catch{a.value[e.id]={count:0,goal:e.defaultGoal}}else a.value[e.id]={count:0,goal:e.defaultGoal}})}function x(e){const o=`dhikr-${e}`,t=a.value[e];localStorage.setItem(o,JSON.stringify(t))}function l(e){var o;return((o=a.value[e])==null?void 0:o.count)||0}function s(e){var o;return((o=a.value[e])==null?void 0:o.goal)||33}function S(e){const o=l(e),t=s(e);return t<=0?0:Math.min(o/t*100,100)}function C(e){const o=l(e),t=s(e);return t>0&&o>=t}function G(e){const o=l(e),t=s(e);(t<=0||o<t)&&(a.value[e]||(a.value[e]={count:0,goal:33}),a.value[e].count===0&&(g.value[e]=Date.now()),a.value[e].count++,x(e),d.recordInteraction("increment",e),a.value[e].count>=t&&t>0&&y(e),"vibrate"in navigator&&navigator.vibrate(50),R(),b.value&&b.value.refreshInsights())}function T(e){a.value[e]||(a.value[e]={count:0,goal:33}),a.value[e].count>0&&y(e),a.value[e].count=0,g.value[e]=Date.now(),d.recordInteraction("reset",e),x(e)}function A(e,o){const t=parseInt(o)||1,r=s(e);a.value[e]?a.value[e].goal=t:a.value[e]={count:0,goal:t},d.recordInteraction("goal_change",e,{newGoal:t,oldGoal:r}),x(e)}function R(){try{const e=new(window.AudioContext||window.webkitAudioContext),o=e.createOscillator(),t=e.createGain();o.connect(t),t.connect(e.destination),o.frequency.setValueAtTime(800,e.currentTime),t.gain.setValueAtTime(.1,e.currentTime),t.gain.exponentialRampToValueAtTime(.01,e.currentTime+.1),o.start(e.currentTime),o.stop(e.currentTime+.1)}catch{}}function y(e,o){const t=g.value[e]||Date.now(),r=l(e),$=s(e);d.recordSession(e,r,$,t,Date.now()),g.value[e]=Date.now()}function V(e){console.log("Goal suggestion:",e)}function N(e){if(e.dhikrId){d.recordInteraction("dhikr_select",e.dhikrId,{source:"recommendation",confidence:e.confidence});const o=document.querySelector(`[data-dhikr-id="${e.dhikrId}"]`);o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.style.animation="pulse 1s ease-in-out 3 alternate")}}return(e,o)=>(u(),c(_,null,[m(p(B),{title:"Dhikr Collection"}),m(J,null,{default:h(()=>[n("div",M,[o[3]||(o[3]=n("h1",{class:"text-3xl font-bold text-center text-gray-900 dark:text-white mb-6"}," Dhikr Collection ",-1)),n("div",W,[m(p(q),{href:"/tasbih",class:"inline-block bg-gray-500 hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700 text-white font-medium py-2 px-4 rounded transition-colors duration-200"},{default:h(()=>o[0]||(o[0]=[E(" ← Back to Simple Counter ")])),_:1,__:[0]})]),o[4]||(o[4]=n("p",{class:"text-center text-gray-600 dark:text-gray-300 mb-8"}," Choose from our collection of authentic dhikr and remember Allah (SWT) throughout your day. ",-1)),m(K,{"dhikr-list":f.dhikrList,onApplyGoal:V,onApplyRecommendation:N,ref_key:"learningInsightsRef",ref:b},null,8,["dhikr-list"]),o[5]||(o[5]=n("div",{class:"mb-8 bg-blue-50 dark:bg-blue-900 rounded-lg p-6"},[n("h3",{class:"font-semibold text-blue-800 dark:text-blue-200 mb-3"}," About these dhikr: "),n("div",{class:"text-sm text-blue-700 dark:text-blue-300 space-y-2"},[n("p",null," • These are authentic dhikr (remembrance of Allah) from the Quran and Sunnah "),n("p",null," • The traditional count is 33+33+34 = 100 total for the first three "),n("p",null," • Your progress is automatically saved for each dhikr individually "),n("p",null,"• It's recommended to recite these after each prayer")])],-1)),n("div",j,[(u(!0),c(_,null,O(f.dhikrList,t=>(u(),c("div",{key:t.id,"data-dhikr-id":t.id,class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},[n("div",P,[n("div",Q,[n("h2",Y,i(t.arabic),1),n("p",H,i(t.transliteration),1),n("p",U,i(t.meaning),1)]),n("div",X,[n("div",Z,[n("div",I,[n("div",ee,i(l(t.id)),1),s(t.id)>0?(u(),c("div",te,[n("div",oe,i(l(t.id))+" / "+i(s(t.id)),1),n("div",ne,[n("div",{class:"progress-bar bg-green-500 h-2 rounded-full",style:F({width:S(t.id)+"%"})},null,4)])])):w("",!0)]),n("div",ae,[o[1]||(o[1]=n("label",{class:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1"}," Goal ",-1)),n("input",{value:s(t.id),onInput:r=>A(t.id,r.target.value),type:"number",min:"1",max:"10000",class:"w-20 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded text-center bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"},null,40,re)]),n("div",se,[n("button",{onClick:r=>G(t.id),class:"flex-1 counter-animation bg-green-500 hover:bg-green-600 dark:bg-green-600 dark:hover:bg-green-700 text-white font-medium py-2 px-4 rounded transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 cursor-pointer",disabled:s(t.id)>0&&l(t.id)>=s(t.id)}," + Count ",8,le),n("button",{onClick:r=>T(t.id),class:"bg-red-500 hover:bg-red-600 dark:bg-red-600 dark:hover:bg-red-700 text-white font-medium py-2 px-4 rounded transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 cursor-pointer"}," Reset ",8,ie)]),C(t.id)?(u(),c("div",ce,o[2]||(o[2]=[n("p",{class:"text-green-800 dark:text-green-200 text-sm font-medium"}," 🎉 Goal Reached! Well done! ",-1)]))):w("",!0)])])])],8,z))),128))])])]),_:1})],64))}};export{fe as default};
