import{r as g,c as R,o as T,a as o,b as i,d as l,u as x,g as I,w as y,e,S as p,f as h,t as n,F as f,h as _,n as j}from"./app-BAKlbPj6.js";import{_ as O}from"./Layout-DiWH2tP_.js";import{l as m,_ as Y}from"./LearningInsights-9Ri05Stv.js";/* empty css            */const $={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},H={class:"mb-8 text-center"},P={key:0,class:"text-center py-12"},U={class:"space-y-3"},z={key:1,class:"space-y-6"},J={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},M={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 text-center"},V={class:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2"},F={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 text-center"},q={class:"text-3xl font-bold text-green-600 dark:text-green-400 mb-2"},G={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 text-center"},K={class:"text-3xl font-bold text-orange-600 dark:text-orange-400 mb-2"},Q={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6"},W={key:0,class:"text-center py-8"},X={key:1,class:"space-y-3"},Z={class:"font-medium text-gray-800 dark:text-gray-200"},tt={class:"text-sm text-gray-600 dark:text-gray-400"},et={class:"text-right"},at={class:"text-xs text-gray-500 dark:text-gray-400"},st={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6"},rt={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},nt={class:"text-2xl mb-1"},ot={class:"font-semibold text-gray-800 dark:text-gray-200 capitalize"},it={class:"text-sm text-gray-600 dark:text-gray-400"},xt={__name:"Analytics",setup(lt){const k=g([{id:1,transliteration:"Subhan Allah"},{id:2,transliteration:"Alhamdulillah"},{id:3,transliteration:"Allahu Akbar"},{id:4,transliteration:"La ilaha illa Allah"},{id:5,transliteration:"Astaghfirullah"},{id:6,transliteration:"Bismillah"},{id:7,transliteration:"La hawla wa la quwwata illa billah"},{id:8,transliteration:"Hasbi Allahu wa ni'mal wakeel"}]),c=g({totalSessions:0,totalCounts:0,streakDays:0,averageSessionDuration:0}),u=g([]),b=g(!1),w=g(null),D=R(()=>{const a={morning:0,afternoon:0,evening:0,night:0};return u.value.forEach(t=>{const s=new Date(t.timestamp).getHours(),r=C(s);a[r]++}),a});T(()=>{S()});function S(){try{const a=m.getLearningData();a&&a.analytics&&(c.value={...a.analytics});const t=m.getSessions();u.value=t.sort((s,r)=>r.timestamp-s.timestamp),b.value=t.length>=3}catch(a){console.error("Error loading analytics:",a),b.value=!1}}function A(a){const t=k.value.find(s=>s.id==a);return t?t.transliteration:`Dhikr ${a}`}function L(a){const t=new Date(a),r=(new Date-t)/(1e3*60*60);return r<1?"Just now":r<24?`${Math.floor(r)} hours ago`:r<48?"Yesterday":t.toLocaleDateString()}function C(a){return a>=5&&a<12?"morning":a>=12&&a<17?"afternoon":a>=17&&a<21?"evening":"night"}function B(a){return{morning:"🌅",afternoon:"☀️",evening:"🌆",night:"🌙"}[a]||"⏰"}function E(){try{const a=m.getLearningData(),t=m.getSessions(),s={analytics:a,sessions:t,exportDate:new Date().toISOString(),note:"Dhikr Analytics Export - Your personal spiritual practice data"},r=JSON.stringify(s,null,2),N=new Blob([r],{type:"application/json"}),v=URL.createObjectURL(N),d=document.createElement("a");d.href=v,d.download=`dhikr-analytics-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(v),alert("Your data has been exported successfully!")}catch(a){console.error("Error exporting data:",a),alert("There was an error exporting your data. Please try again.")}}return(a,t)=>(i(),o(f,null,[l(x(I),{title:"Analytics"}),l(O,null,{default:y(()=>[e("div",$,[t[14]||(t[14]=e("h1",{class:"text-3xl font-bold text-center text-gray-900 dark:text-white mb-8"}," 📊 Your Dhikr Analytics ",-1)),e("div",H,[l(x(p),{href:"/",class:"inline-block bg-gray-500 hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-700 text-white font-medium py-2 px-4 rounded transition-colors duration-200"},{default:y(()=>t[0]||(t[0]=[h(" ← Back to Home ")])),_:1,__:[0]})]),b.value?(i(),o("div",z,[e("div",J,[e("div",M,[e("div",V,n(c.value.totalSessions),1),t[7]||(t[7]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Total Sessions ",-1))]),e("div",F,[e("div",q,n(c.value.totalCounts.toLocaleString()),1),t[8]||(t[8]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Total Dhikr Counts ",-1))]),e("div",G,[e("div",K,n(c.value.streakDays),1),t[9]||(t[9]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"}," Day Streak 🔥 ",-1))])]),l(Y,{"dhikr-list":k.value,ref_key:"learningInsightsRef",ref:w,class:"mb-6"},null,8,["dhikr-list"]),e("div",Q,[t[11]||(t[11]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4"}," 📈 Recent Activity ",-1)),u.value.length===0?(i(),o("div",W,t[10]||(t[10]=[e("p",{class:"text-gray-500 dark:text-gray-400"}," No recent sessions found. Start practicing to see your activity here. ",-1)]))):(i(),o("div",X,[(i(!0),o(f,null,_(u.value.slice(0,10),s=>(i(),o("div",{key:s.timestamp,class:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded"},[e("div",null,[e("div",Z,n(A(s.dhikrId)),1),e("div",tt,n(L(s.timestamp)),1)]),e("div",et,[e("div",{class:j(["font-bold",s.completed?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"])},n(s.count)+" / "+n(s.goal),3),e("div",at,n(s.completed?"✅ Completed":"⏸️ Partial"),1)])]))),128))]))]),e("div",st,[t[12]||(t[12]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4"}," ⏰ Practice Patterns ",-1)),e("div",rt,[(i(!0),o(f,null,_(D.value,(s,r)=>(i(),o("div",{key:r,class:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded"},[e("div",nt,n(B(r)),1),e("div",ot,n(r),1),e("div",it,n(s)+" sessions ",1)]))),128))])]),e("div",{class:"bg-blue-50 dark:bg-blue-900 rounded-lg p-4 text-center"},[t[13]||(t[13]=e("p",{class:"text-sm text-blue-700 dark:text-blue-300"}," 🔒 All your data is stored locally on your device for privacy. No information is shared with external servers. ",-1)),e("button",{onClick:E,class:"mt-2 text-sm bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition-colors"}," Export My Data ")])])):(i(),o("div",P,[t[4]||(t[4]=e("div",{class:"text-6xl mb-4"},"📈",-1)),t[5]||(t[5]=e("h2",{class:"text-2xl font-semibold text-gray-700 dark:text-gray-300 mb-4"}," Start Your Journey ",-1)),t[6]||(t[6]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Begin practicing dhikr to see your personalized analytics and insights. ",-1)),e("div",U,[l(x(p),{href:"/dhikr",class:"inline-block bg-green-500 hover:bg-green-600 text-white font-medium py-3 px-6 rounded-lg transition-colors"},{default:y(()=>t[1]||(t[1]=[h(" Start Simple Counter ")])),_:1,__:[1]}),t[3]||(t[3]=e("br",null,null,-1)),l(x(p),{href:"/dhikr-list",class:"inline-block bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-colors"},{default:y(()=>t[2]||(t[2]=[h(" Browse Dhikr Collection ")])),_:1,__:[2]})])]))])]),_:1})],64))}};export{xt as default};
